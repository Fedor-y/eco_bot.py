import telebot
from telebot.types import InlineKeyboardMarkup, InlineKeyboardButton
import time
from conf import TG_TOKEN


bot = telebot.TeleBot(token=TG_TOKEN)

@bot.message_handler(commands=['start', 'help'])
def hello_mes(message):
    bot.send_message(message.chat.id, 'привет, у меня есть команды (/eco, /trash)')

    
def get_inline_keyboard():
    markup = InlineKeyboardMarkup()
    markup.add(InlineKeyboardButton('пластиковая бутылка', callback_data='bt1'))
    markup.add(InlineKeyboardButton('стекло', callback_data='bt2'))
    markup.add(InlineKeyboardButton('банановая кожура', callback_data='bt3'))
    markup.add(InlineKeyboardButton('бумага', callback_data='bt4'))
    markup.add(InlineKeyboardButton('ал банка', callback_data='bt5'))    
    return markup


# ---ECO---
@bot.message_handler(commands=['eco'])
def eco_items(message):
    bot.send_message(message.chat.id, 'выбери предмет', reply_markup=get_inline_keyboard())

@bot.callback_query_handler(func=lambda call: call.data in ['bt1', 'bt2', 'bt3', 'bt4', 'bt5'])
def handle_eco_callback(call):
    items = {
        'bt1': '450 лет',
        'bt2': '1000 лет',
        'bt3': '3 недели',
        'bt4': '3 месяца',
        'bt5': '200 лет'
    }
    bot.answer_callback_query(call.id)
    bot.send_message(call.message.chat.id, items[call.data])


# переработка мусора функция
def get_Keyboard():
    type_of_trash = InlineKeyboardMarkup()
    type_of_trash.add(InlineKeyboardButton('Пластиковые пакеты и плёнка', callback_data='snap1')) 
    type_of_trash.add(InlineKeyboardButton('Керамические и стеклянные изделия', callback_data='snap2')) 
    type_of_trash.add(InlineKeyboardButton('Нефтепродукты', callback_data='snap3')) 
    type_of_trash.add(InlineKeyboardButton('Медицинские отходы', callback_data='snap4')) 
    type_of_trash.add(InlineKeyboardButton('Электронные устройства', callback_data='snap5')) 
    type_of_trash.add(InlineKeyboardButton('Пластик', callback_data='snap6'))  
    type_of_trash.add(InlineKeyboardButton('Стекло', callback_data='snap7')) 
    type_of_trash.add(InlineKeyboardButton('Металл', callback_data='snap8')) 
    type_of_trash.add(InlineKeyboardButton('Бумага и картон', callback_data='snap9')) 
    type_of_trash.add(InlineKeyboardButton('Текстиль', callback_data='snap10'))
    return type_of_trash

@bot.message_handler(commands=['trash'])
def type_trash(message):
    bot.send_message(message.chat.id, 'выбери тип мусора,чтобы узнать, перерабатывается он или нет', reply_markup=get_Keyboard())

@bot.callback_query_handler(func=lambda call: call.data in ['snap1', 'snap2', 'snap3', 'snap4', 'snap5', 'snap6', 'snap7', 'snap8', 'snap9', 'snap10'])
def handle_trash_callback(call):
    items = {
        'snap1': 'Пластиковые пакеты и плёнка не перерабатывается',
        'snap2': 'Керамические и стеклянные изделия не перерабатывается',
        'snap3': 'Нефтепродукты не перерабатывается',
        'snap4': 'Медицинские отходы не перерабатывается',
        'snap5': 'Электронные устройства не перерабатывается',
        'snap6': 'Пластик перерабатывается',
        'snap7': 'Стекло перерабатывается',
        'snap8': 'Металл перерабатывается',
        'snap9': 'Бумага и картон перерабатывается',
        'snap10': 'Текстиль перерабатывается'
    }
    bot.answer_callback_query(call.id)
    bot.send_message(call.message.chat.id, items[call.data])

bot.infinity_polling()
